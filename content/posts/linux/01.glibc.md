---
weight: 12 
title: "linux - glicå‡çº§"
date: 2022-03-08T17:40:32+08:00
lastmod: 2022-03-08T21:40:32+08:00
draft: false
author: "feng1o"
authorLink: "https://feng1o.github.io"
description: "linux - **libc.so.6: version `GLIBC_2.14' not found** ."

featuredImage: images/glibc.png
#featuredImagePreview: /featuredImage/excel-featured-image.jpg

tags: ["linux", "glic"]
categories: ["linux"]

lightgallery: true 

toc:
  enable: true
  auto: true 
---

<a style="color:red;"> <strong>ğŸ’¥è°¨æ…æ“ä½œ.</strong> </a>**libc.so.6: version `GLIBC_2.14' not found**.
<!--more-->

<!-- æ³¨é‡Š,æ­¤å¤„æ˜¯style -->
<style>
pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    align: left;
}

h3,h1 {
background : lightgray;
}

h3:hover {
color : red;
}
</style>

<!-- directives: [] -->
<div id="content">
  <ul>
    <li>/lib64/libc.so.6: version `GLIBC_2.14&apos; not found</li>
    <li>strings  /lib64/ligc.so.6 | grep GLIBC å¯çœ‹æ”¯æŒå“ªäº›ç‰ˆæœ¬</li>
      <pre><code data-lang="shell">	  
      GLIBC_2.10
	  GLIBC_2.11
	  GLIBC_2.12
      </code></pre>
    <li><a href="https:cloud.tencent.com/developer/article/1710774">å®‰è£…gcc-å‚è€ƒ</a>ï¼š
      <blockquote>
        <p>gccä¸»è¦ä¾èµ–æœ‰ï¼šgmpï¼ŒMPFRï¼ŒMPCï¼Œæ‰‹åŠ¨å®‰è£…å‡å¯ã€‚ æ ¹æ®download_prerequisitesæ¯”è¾ƒeasey
          <br />
<img src="../assets/image_1651469479377_0.png" title="image.png" />
          <br />
</p>
      </blockquote>
</li>
    <li>å®‰è£… æ–°ç‰ˆglibcï¼šæ¯”è¾ƒç®€å•ï¼Œç½‘ä¸Šèµ„æ–™å¾ˆå¤š<a href="https:www.cnblogs.com/kevingrace/p/8744417.html">å‚è€ƒ</a>
      <ul>
        <li>ä¹‹åæŠŠglibc.so.6æŒ‡å‘æ–°çš„ï¼Œæˆ–è€…æ”¹LD_LIBRARY_PATHï¼š æ¯”å¦‚export   LD_LIBRARY_PATH=/usr/local/glibc-2.17/lib:/lib64/:/usr/local/gcc-4.8/lib64</li>
      </ul>
    </li>
    <li><span><a>å¯èƒ½æŠ¥é”™</a>ï¼šæ¯”å¦‚æŸäº›soç‰ˆæœ¬é—®é¢˜ï¼Œldé—®é¢˜ï¼Œç”šè‡³å„ç§å‘½ä»¤å¤±æ•ˆ</span>
      <ul>
        <li>æ¢å¤ï¼š           <mark>æ­¤æ—¶æ¢å¤2.12ä¸ºä¾‹ï¼šLD_PRELOAD=&quot;/lib64/libc.so.6-2.12&quot;  ln -s /lib64/libc-2.12.so  /lib64/libc.so.6 æ¢å¤åˆ°æ–°çš„
          </mark>
</li>
        <li>error while loading shared libraries: __vdso_time: invalid mode for dlopen(): Invalid argument
<pre><code data-lang="shell" class="shell">
è¿™ä¸ªæ˜¯ç”¨çš„ldå’Œglicé—®é¢˜ï¼Œæ¯”å¦‚2.17å‡çº§ä¸ºä¾‹
echo &quot;&quot; &gt; /etc/ld.so.preload
LD_LIBRARY_PATH=/usr/local/glibc-2.17/lib:/lib64/:/usr/local/gcc-4.8/lib64:/usr/lib64 /usr/local/glibc-2.17/lib/ld-2.17.so    ./a.out
å¯ä»¥æ‰§è¡Œï¼Œä½†æ˜¯ä¸èƒ½æ¯ä¸ªéƒ½æŒ‡å®šld-2717.so
</code></pre>
</li>
  </ul>
</div>

### æœ€ç»ˆç‰ˆ -- è°¨æ…æ“ä½œ,é£é™©æå¤§
<a class="alg-hard" href="https://gist.github.com/harv/f86690fcad94f655906ee9e37c85b174"> æºğŸ”—ï¼šç›´æ¥å‡çº§rpmåŒ…</a>
```shell
#!/bin/bash
cat &lt;&lt;EOF
	caveatï¼š
    	be careful, this may destroy your linux systemï¼Œ please backup your data first.
EOF

echo &quot;May damage your system!&quot;
read -p &quot;sure to do ?&quot; t
sleep 5

# update glibc to 2.17 for CentOS 6

GLIBC=glibc
OS=el6
SERVER=https://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6
VERSION=2.17-55
FULL_VERSION=$GLIBC-$VERSION.fc20
X64=x86_64
I386=i386
I636=i686
REPO_32=epel-6-$I386
REPO_64=epel-6-$X64

SERVER_32=$SERVER/$REPO_32/$FULL_VERSION
RPM_32=$VERSION.$OS.$I636.rpm
SERVER_64=$SERVER/$REPO_64/$FULL_VERSION
RPM_64=$VERSION.$OS.$X64.rpm

# Packages
P_1=$GLIBC
P_2=$GLIBC-common
P_3=$GLIBC-devel
P_4=$GLIBC-headers
P_5=$GLIBC-static
P_6=$GLIBC-utils
P_7=nscd

# Required as dependency of glibc-utils
sudo yum install --assumeyes gd

# 64-bit    --nodeps æ…é‡ä½¿ç”¨
sudo rpm -Uvh  --nodeps --force $SERVER_64/$P_1-$RPM_64 $SERVER_64/$P_2-$RPM_64 $SERVER_64/$P_3-$RPM_64 $SERVER_64/$P_4-$RPM_64 $SERVER_64/$P_5-$RPM_64 $SERVER_64/$P_6-$RPM_64 $SERVER_64/$P_7-$RPM_64
# Print out versions
strings /lib64/libc.so.6 | grep GLIBC

# 32-bit
# sudo rpm -Uvh --force $SERVER_32/$P_1-$RPM_32 $SERVER_32/$P_2-$RPM_32 $SERVER_32/$P_3-$RPM_32 $SERVER_32/$P_4-$RPM_32 $SERVER_32/$P_5-$RPM_32 $SERVER_32/$P_6-$RPM_32 $SERVER_32/$P_7-$RPM_32
```
> ä»¥ä¸Šæ“ä½œä¸å¯é€†,ä¸”éœ€é‡å¯;å¦‚é‡å¯å¤±è´¥åªèƒ½é‡è£…ç³»ç»Ÿ. ç»æµ‹è¯•å¯è¡Œ
